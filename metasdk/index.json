[
{
	"uri": "https://developers.devision.io/metasdk/services/introduction/",
	"title": "–í–≤–µ–¥–µ–Ω–∏–µ",
	"tags": [],
	"description": "",
	"content": "Install –î–ª—è metasdk –∏ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π –º–µ—Ç—ã\n–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–æ–∫–µ–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –ü–æ–ª—É—á–∏—Ç–µ —Ñ–∞–π–ª —Ç–æ–∫–µ–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ developer_settings.json –≤ –¥–æ–º–∞—à–Ω—é—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≤ –ø–∞–ø–∫—É .rwmeta –ù–∞–ø—Ä–∏–º–µ—Ä:\nMacOS: /Users/arturgspb/.rwmeta/developer_settings.json Windows: C:\\Users\\userXXXXXX\\.rwmeta\\developer_settings.json Linux: ~/.rwmeta/developer_settings.json –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ metasdk –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤ –Ω–∞ python. –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π –º–µ—Ç—ã —ç—Ç–æ –Ω–µ –Ω–∞–¥–æ.\n–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è Python 3.6+\npip3 install metasdk --upgrade --no-cache Full Examples –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø—Ä–∏–º–µ—Ä–æ–≤\nUsage import logging from metasdk import MetaApp # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è # –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø—Ä. META = MetaApp() # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ r = META.db(\u0026#34;meta\u0026#34;).one(\u0026#34;SELECT NOW() as now\u0026#34;) print(r) # —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ logging.info(\u0026#39;Hello, from Meta App Script!\u0026#39;) # –ú–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å —É–ª—É—á—à–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –¥–ª—è –±–æ–ª–µ–µ —É–¥–æ–±–Ω–æ–≥–æ –ø—Ä–∏–∫–ª–∞–¥—ã–≤–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ log = META.log log.warning(\u0026#39;Do warning log\u0026#39;, {\u0026#34;count\u0026#34;: 1, \u0026#34;mycontextParam\u0026#34;: [1, 3, 4]}) "
},
{
	"uri": "https://developers.devision.io/metasdk/services/",
	"title": "–°–µ—Ä–≤–∏—Å—ã",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://developers.devision.io/metasdk/services/lock_service/",
	"title": "LockService",
	"tags": [],
	"description": "",
	"content": "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö —É—á–∞—Å—Ç–∫–æ–≤ –∫–æ–¥–∞. –≠—Ç–æ –±—ã–≤–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤ —Å–∏—Ç—É–∞—Ü–∏—è—Ö –∫–æ–≥–¥–∞ –µ—Å—Ç—å –∂–µ—Å—Ç–∫–∏–µ –ª–∏–º–∏—Ç—ã –æ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ –∞–ø–∏ –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–±—Ä–∞—â–µ–Ω–∏–π, –∏–ª–∏ –≤ —Å–∏—Ç—É–∞—Ü–∏—è—Ö –∫–æ–≥–¥–∞ –º—ã —Ä–∞–±–æ—Ç–∞–µ–º —Å –æ–±—ä–µ–∫—Ç–æ–º –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä –±—é–¥–∂–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞.\n–û–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ key: –ö–ª—é—á, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω—è–µ–º–æ–≥–æ —É—á–∞—Å—Ç–∫–∞ –∫–æ–¥–∞.\nttl_in_sec: –°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –∫–ª—é—á –±—É–¥–µ—Ç –∂–∏—Ç—å –≤ Redis. –ü–æ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ –≤—Ä–µ–º–µ–Ω–∏ –∫–ª—é—á —É–¥–∞–ª–∏—Ç—Å—è –∏ –Ω–∞—á–Ω–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—á–∞—Å—Ç–∫–∞ –∫–æ–¥–∞. –ï—Å–ª–∏ —É–∫–∞–∑–∞—Ç—å —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ–¥ –Ω–µ —É—Å–ø–µ–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å—Å—è –∑–∞ —ç—Ç–æ –≤—Ä–µ–º—è –∏ –Ω–∞—á–Ω–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞.\ntimeout_in_sec: –°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ —Ñ—É–Ω–∫—Ü–∏—è lock –±—É–¥–µ—Ç –ø—ã—Ç–∞—Ç—å—Å—è –ø–æ—Å—Ç–∞–≤–∏—Ç—å —É—á–∞—Å—Ç–æ–∫ –∫–æ–¥–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ. –ü–æ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–∑–æ–≤–µ—Ç—Å—è –∏—Å–∫–ª—é—á–µ–Ω–∏–µ. –°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –∑–∞–≤–∏—Å–∞–Ω–∏—é –∫–æ–¥–∞.\nqueue_width: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≤–æ–∑–º–æ–∂–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö —É—á–∞—Å—Ç–∫–æ–≤ –∫–æ–¥–∞\nfield_to_uniq: –¥–æ–±–∞–≤–ª—è–µ—Ç –∫ –∫–ª—é—á—É –≤ —Ä–µ–¥–∏—Å–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–≥–æ –≤ —Ñ—É–Ω–∫—Ü–∏–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤—ã –ø–µ—Ä–µ–¥–∞–ª–∏ –≤ —Ñ—É–Ω–∫—Ü–∏—é x=666, –∫ –∫–ª—é—á—É –¥–æ–±–∞–≤–∏—Ç—Å—è 666.\nimport time import threading from metasdk import MetaApp Meta = MetaApp() lock = Meta.LockService.lock TIME_TO_SLEEP = 20 TIMEOUT = 50 TTL = 50 KEY = \u0026#34;gogo\u0026#34; WIDTH = 2 FIELD_TO_UNIQUE_DECORATOR = [\u0026#34;x\u0026#34;] def lock_via_with(name): with lock(timeout_in_sec=TIMEOUT, ttl_in_sec=TTL, key=KEY, queue_width=WIDTH): print(\u0026#34;%s is running\u0026#34; % name) time.sleep(TIME_TO_SLEEP) print(\u0026#34;%s is stop\u0026#34; % name) @Meta.LockService.lock_decorator(timeout_in_sec=TIMEOUT, ttl_in_sec=TTL, key=KEY, queue_width=WIDTH, field_to_uniq=FIELD_TO_UNIQUE_DECORATOR) def lock_via_decorator(name, x): print(\u0026#34;%s is running\u0026#34; % name) time.sleep(TIME_TO_SLEEP) print(\u0026#34;%s is stop\u0026#34; % name) # –ú–µ–Ω—è–µ–º target, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ for i in range(1, 4): # t = threading.Thread(target=lock_via_with, kwargs={\u0026#34;name\u0026#34;: \u0026#34;go\u0026#34; + str(i)}) t = threading.Thread(target=lock_via_decorator, kwargs={\u0026#34;name\u0026#34;: \u0026#34;go\u0026#34; + str(i), \u0026#34;x\u0026#34;: 666}) t.start() "
},
{
	"uri": "https://developers.devision.io/metasdk/services/rpc/",
	"title": "Meta Services",
	"tags": [],
	"description": "",
	"content": "–≠—Ç–æ API –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π –ú–µ—Ç—ã, –≤—Å–µ —ç—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤–∞–º —á–µ—Ä–µ–∑ —Ä–µ–¥–∞–∫—Ç–æ—Ä –≤ Web-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ\n–ü—Ä–∏–º–µ—Ä—ã –°–ø–∏—Å–æ–∫ –ø—Ä–∏–º–µ—Ä–æ–≤\nCacheService from metasdk import MetaApp META = MetaApp() log = META.log META.auth_user_id = 11790 # –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–≥—Ä–µ–≤–∞ –∫–µ—à–∞ result = META.CacheService.warm_page_cache( \u0026#39;88\u0026#39;, \u0026#39;4993\u0026#39;, None, None, { \u0026#34;stateParams\u0026#34;: { \u0026#34;firstLoading\u0026#34;: True } } ) print(u\u0026#34;export_res = %s\u0026#34; % str(result)) MediaService import os from metasdk import MetaApp META = MetaApp() log = META.log os.chdir(os.path.dirname(os.path.abspath(__file__))) __DIR__ = os.getcwd() + \u0026#34;/\u0026#34; upload_file = open(__DIR__ + \u0026#39;../assets/load_data_sample.tsv\u0026#39;, \u0026#39;rb\u0026#39;) MediaService = META.MediaService result = MediaService.upload(upload_file, { \u0026#34;isPrivate\u0026#34;: True, # –§–∞–π–ª –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Ä–∞–±–æ—Ç–∞—é—â–µ–≥–æ —Å –∞–ø–∏ \u0026#34;ttlInSec\u0026#34;: 9999, # –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤. –ö–æ–ª-–≤–æ —Å–µ–∫—É–Ω–¥ —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—ã–µ –º–µ—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª–∏—Ç —Ñ–∞–π–ª \u0026#34;entityId\u0026#34;: 2770, \u0026#34;objectId\u0026#34;: \u0026#34;114aecf5-04f1-44fa-8ad1-842b7f31a2df\u0026#34;, \u0026#34;info\u0026#34;: {\u0026#34;test\u0026#34;: True} # –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª–∞ }) print(u\u0026#34;result = %s\u0026#34; % str(result)) # result = {\u0026#39;id\u0026#39;: \u0026#39;ae2ef57a-c948-4ba4-8b68-6598352a2eb8\u0026#39;, \u0026#39;name\u0026#39;: \u0026#39;load_data_sample.tsv\u0026#39;, \u0026#39;extension\u0026#39;: \u0026#39;tsv\u0026#39;, \u0026#39;mime\u0026#39;: \u0026#39;text\u0026#39;, \u0026#39;url\u0026#39;: None, \u0026#39;creationTime\u0026#39;: \u0026#39;2017-11-08T16:57:46Z\u0026#39;, \u0026#39;userId\u0026#39;: 4501, \u0026#39;fileSize\u0026#39;: 256, \u0026#39;info\u0026#39;: {\u0026#39;test\u0026#39;: True}, \u0026#39;private\u0026#39;: True, \u0026#39;downloadUrlPart\u0026#39;: \u0026#39;/api/meta/v1/media/d/ae2ef57a-c948-4ba4-8b68-6598352a2eb8\u0026#39;} # –°–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª result = MediaService.download(\u0026#39;ae2ef57a-c948-4ba4-8b68-6598352a2eb8\u0026#39;,as_stream=False) print(u\u0026#34;result.content = %s\u0026#34; % str(result.content)) # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ —Ñ–∞–π–ª—É resp = MediaService.info(\u0026#39;5665d822-2edb-48b8-85a5-817043900a9a\u0026#39;) print(u\u0026#34;resp = %s\u0026#34; % str(resp)) # resp = {\u0026#39;id\u0026#39;: \u0026#39;5665d822-2edb-48b8-85a5-817043900a9a\u0026#39;, \u0026#39;name\u0026#39;: \u0026#39;load_data_sample.tsv\u0026#39;, \u0026#39;extension\u0026#39;: \u0026#39;tsv\u0026#39;, \u0026#39;mime\u0026#39;: \u0026#39;text\u0026#39;, \u0026#39;url\u0026#39;: None, \u0026#39;creationTime\u0026#39;: \u0026#39;2017-11-08T16:45:00Z\u0026#39;, \u0026#39;userId\u0026#39;: 4501, \u0026#39;fileSize\u0026#39;: 256, \u0026#39;info\u0026#39;: {\u0026#39;test\u0026#39;: True}, \u0026#39;private\u0026#39;: True, \u0026#39;downloadUrlPart\u0026#39;: \u0026#39;/api/meta/v1/media/d/5665d822-2edb-48b8-85a5-817043900a9a\u0026#39;} –≠—Ç–æ –≤—ã–≤–µ–¥–µ—Ç –≤–∞–º —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ —Ç–∞–∫–æ–≥–æ:\n# 16:48:19:INFO: –ß–∏—Ç–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ {\u0026#39;path\u0026#39;: \u0026#39;/Users/arturgspb/.rwmeta/developer_settings.json\u0026#39;} # 16:48:19:INFO: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–ª—É–∂–±—ã {\u0026#39;debug\u0026#39;: True} # Empty stdin... # result[\u0026#39;rows\u0026#39;][0][\u0026#39;url\u0026#39;] = http://localhost:8080/media/d/c6509ac7-b410-4f77-8f0b-7c1dfd6a871b # first = {u\u0026#39;url\u0026#39;: u\u0026#39;http://localhost:8080/media/d/c6509ac7-b410-4f77-8f0b-7c1dfd6a871b\u0026#39;, u\u0026#39;id\u0026#39;: u\u0026#39;c6509ac7-b410-4f77-8f0b-7c1dfd6a871b\u0026#39;, u\u0026#39;full_path\u0026#39;: u\u0026#39;/mnt/static/public/74/reqtxt-2016-09-02_16-48-19-(4501).txt\u0026#39;} # result = { # \u0026#34;boxed\u0026#34;: false, # \u0026#34;columns\u0026#34;: [ # { # \u0026#34;displayName\u0026#34;: \u0026#34;Id\u0026#34;, # \u0026#34;fullDisplayName\u0026#34;: \u0026#34;Id\u0026#34;, # \u0026#34;isPrimary\u0026#34;: true, # \u0026#34;isStyled\u0026#34;: false, # \u0026#34;name\u0026#34;: \u0026#34;id\u0026#34;, # \u0026#34;role\u0026#34;: \u0026#34;dimension\u0026#34;, # \u0026#34;type\u0026#34;: \u0026#34;TEXT\u0026#34; # }, # { # \u0026#34;displayName\u0026#34;: \u0026#34;url\u0026#34;, # \u0026#34;fullDisplayName\u0026#34;: \u0026#34;url\u0026#34;, # \u0026#34;isStyled\u0026#34;: true, # \u0026#34;name\u0026#34;: \u0026#34;url\u0026#34;, # \u0026#34;role\u0026#34;: \u0026#34;dimension\u0026#34;, # \u0026#34;type\u0026#34;: \u0026#34;TEXT\u0026#34; # }, # { # \u0026#34;displayName\u0026#34;: \u0026#34;downloadUrlPart\u0026#34;, # \u0026#34;fullDisplayName\u0026#34;: \u0026#34;downloadUrlPart\u0026#34;, # \u0026#34;isStyled\u0026#34;: true, # \u0026#34;name\u0026#34;: \u0026#34;downloadUrlPart\u0026#34;, # \u0026#34;role\u0026#34;: \u0026#34;dimension\u0026#34;, # \u0026#34;type\u0026#34;: \u0026#34;TEXT\u0026#34; # }, # { # \u0026#34;displayName\u0026#34;: \u0026#34;fullPath\u0026#34;, # \u0026#34;fullDisplayName\u0026#34;: \u0026#34;fullPath\u0026#34;, # \u0026#34;isStyled\u0026#34;: true, # \u0026#34;name\u0026#34;: \u0026#34;fullPath\u0026#34;, # \u0026#34;role\u0026#34;: \u0026#34;dimension\u0026#34;, # \u0026#34;type\u0026#34;: \u0026#34;TEXT\u0026#34; # } # ], # \u0026#34;containsLego\u0026#34;: false, # \u0026#34;empty\u0026#34;: false, # \u0026#34;exportable\u0026#34;: true, # \u0026#34;frame\u0026#34;: false, # \u0026#34;hasTemplate\u0026#34;: false, # \u0026#34;legoProperties\u0026#34;: null, # \u0026#34;metaData\u0026#34;: { # \u0026#34;filtersAvailable\u0026#34;: true, # \u0026#34;orderByAvailable\u0026#34;: false, # \u0026#34;pagerAvailable\u0026#34;: false, # \u0026#34;searchTextAvailable\u0026#34;: false # }, # \u0026#34;name\u0026#34;: \u0026#34;\u0026#34;, # \u0026#34;pager\u0026#34;: { # \u0026#34;limit\u0026#34;: 20, # \u0026#34;maxPageLimit\u0026#34;: 1000, # \u0026#34;offset\u0026#34;: 0, # \u0026#34;total\u0026#34;: null # }, # \u0026#34;rows\u0026#34;: [ # { # \u0026#34;full_path\u0026#34;: \u0026#34;/mnt/static/public/74/reqtxt-2016-09-02_16-48-19-(4501).txt\u0026#34;, # \u0026#34;id\u0026#34;: \u0026#34;c6509ac7-b410-4f77-8f0b-7c1dfd6a871b\u0026#34;, # \u0026#34;url\u0026#34;: \u0026#34;http://localhost:8080/media/d/c6509ac7-b410-4f77-8f0b-7c1dfd6a871b\u0026#34; # } # ], # \u0026#34;template\u0026#34;: null # } DbQueryService –î–µ–ª–∞–π—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î –∫ –≤–∞—à–∏–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º\n# –í–∞–∂–Ω–æ –∑–Ω–∞—Ç—å, —á—Ç–æ —ç—Ç–∏ –º–µ—Ç–æ–¥—ã: # - –ù–ï –ø–∞—Ä—Å—è—Ç –∏ –ù–ï –º–µ–Ω—è—é—Ç –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î (–∫—Ä–æ–º–µ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ prepared statements) # - –ù–ï —è–≤–ª—è—é—Ç—Å—è –∫–∞–∫–∏–º-—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã–º –æ–±–æ–±—â–µ–Ω–Ω—ã–º SQL-–¥–∏–∞–ª–µ–∫—Ç–æ–º. –¢.–µ. –∑–∞–ø—Ä–æ—Å—ã –≤ —ç—Ç–æ–º –≤–∏–¥–µ –±—É–¥—É—Ç –ø–µ—Ä–µ–¥–∞–Ω—ã –Ω–∞–ø—Ä—è–º—É—é –≤ –ë–î # - –û–±–æ–±—â–∞—é—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ –∏—Ö —Ç–∏–ø–æ–≤ db_adplatform = META.db(\u0026#34;adplatform\u0026#34;) # –ú–µ—Ç–æ–¥—ã query, all, one –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–æ–ª–∂–Ω—ã –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å ResultSet (–º–æ–∂–µ—Ç –±—ã—Ç—å –∏ –ø—É—Å—Ç–æ–π) # –¢.–µ. –Ω–µ–ª—å–∑—è –¥–µ–ª–∞—Ç—å UPDATE, INSET, DELETE, TRUNCATE, –∏—Å–∫–ª—é—á–µ–Ω–∏–µ - –µ—Å–ª–∏ –≤ PostgreSQL –≤—ã –¥–µ–ª–∞–µ—Ç–µ RETURNING # –í–µ—Ä–Ω–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π data_result –ú–µ—Ç—ã, –≥–¥–µ –µ—Å—Ç—å rows, columns, meta_data –∏ –ø—Ä data_result = db_adplatform.query(\u0026#34;SELECT * FROM users LIMIT 10\u0026#34;) # –í–µ—Ä–Ω–µ—Ç rows –∏–∑ data result users = db_adplatform.all(\u0026#34;SELECT * FROM users LIMIT 10\u0026#34;) # –í–µ—Ä–Ω–µ—Ç –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –∏–∑ rows –∏–ª–∏ None, –µ—Å–ª–∏ –Ω–µ—Ç –ø–µ—Ä–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ users = db_adplatform.one(\u0026#34;SELECT * FROM users WHERE id=4501 LIMIT 1\u0026#34;) # –ú–µ—Ç–æ–¥ update –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ù–ï –í–û–ó–í–†–ê–©–ê–Æ–¢ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –≤–∏–¥–µ ResultSet (–≤ –ë–î) db_meta_samples = META.db(\u0026#34;meta_samples\u0026#34;) dr = db_meta_samples.update(\u0026#34;\u0026#34;\u0026#34; UPDATE counters SET inc = inc + 1 WHERE name = :name \u0026#34;\u0026#34;\u0026#34;, {\u0026#34;name\u0026#34;: \u0026#34;md_source_update\u0026#34;}) print(u\u0026#34;dr = %s\u0026#34; % pretty_json(dr)) # –î–ª—è —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ –≤–∞–º –Ω–∞–¥–æ —Å–¥–µ–ª–∞—Ç—å –º–∞—Å—Å–æ–≤—É—é –≤—Å—Ç–∞–≤–∫—É –≥—Ä—É–ø–ø—ã —Å—Ç—Ä–æ–∫ # –≠—Ç–∞ –∑–∞–ø–∏—Å—å –Ω–µ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ —Ü–∏–∫–ª—É –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å–µ–π –ø–æ –æ–¥–Ω–æ–π, —ç—Ç–æ —Ä–µ–∞–ª—å–Ω–æ –≥—Ä—É–ø–ø–æ–≤–∞—è —É–¥–æ–±–Ω–∞—è –≤—Å—Ç–∞–≤–∫–∞. # –Ø–≤–ª—è–µ—Ç—Å—è —Ö–æ—Ä–æ—à–µ–π –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–æ–π –∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ø–∏—Å–∫–∞ VALUES –∏–ª–∏ INSERT FROM SELECT —Å —Ä–∞–∑–º–∞–ø–ª–∏–≤–∞–Ω–∏–µ–º json –≤ —Ç–∞–±–ª–∏—Ü—É dr = db_meta_samples.batch_update(\u0026#34;\u0026#34;\u0026#34; INSERT INTO test_batch_update VALUES (:id, :mytime::timestamp) ON CONFLICT(id) DO UPDATE SET mod_time=NOW() \u0026#34;\u0026#34;\u0026#34;, [ {\u0026#34;id\u0026#34;: \u0026#34;py_1\u0026#34;, \u0026#34;mytime\u0026#34;: \u0026#34;2014-01-01\u0026#34;}, {\u0026#34;id\u0026#34;: \u0026#34;py_2\u0026#34;, \u0026#34;mytime\u0026#34;: \u0026#34;2014-01-01\u0026#34;}, ]) print(u\u0026#34;dr = %s\u0026#34; % pretty_json(dr)) –û—Ç–¥–µ–ª—å–Ω–æ —Å—Ç–æ–∏—Ç —É–ø–æ–º—è–Ω—É—Ç—å –ø—Ä–æ LoadData Api\n–≠—Ç–æ—Ç API –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–∞–∫ –≤ BigQuery —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É —É –∫–∞–∑–∞–Ω–Ω–æ–π –ë–î –∏ –ø–æ—Ç–æ–∫–æ–≤–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å –≤ –Ω–µ–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–∞–π–ª–∞ —Ñ–æ—Ä–º–∞—Ç–∞ TSV\n–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É—Å–∫–æ—Ä—è—Ç—å –≤—Å—Ç–∞–≤–∫—É –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—Ü—É –æ—Ç 2 –¥–æ 4-5 —Ä–∞–∑.\n–í–ê–ñ–ù–û! –î–∞–Ω–Ω—ã–µ –≤—Å–µ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ —É–∫–∞–∑–∞–Ω–Ω—É—é —Ç–∞–±–ª–∏—Ü—É –∏ –Ω–∏–∫–∞–∫–æ–π –æ—á–∏—Å—Ç–∫–∏ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç - –≤—ã –¥–æ–ª–∂–Ω—ã –ø–æ—á–∏—Å—Ç–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É —Å–∞–º–∏, –µ—Å–ª–∏ –≤–∞–º —ç—Ç–æ –Ω—É–∂–Ω–æ\nimport os from metasdk import MetaApp META = MetaApp() os.chdir(os.path.dirname(__file__)) __DIR__ = os.getcwd() + \u0026#34;/\u0026#34; upload_file = open(__DIR__ + \u0026#39;assets/load_data_sample.tsv\u0026#39;, \u0026#39;rb\u0026#39;) configuration = { \u0026#34;load\u0026#34;: { \u0026#34;destinationTable\u0026#34;: { \u0026#34;schema\u0026#34;: \u0026#34;public\u0026#34;, \u0026#34;table\u0026#34;: \u0026#34;xxx_ya_stat\u0026#34; }, \u0026#34;schema\u0026#34;: { \u0026#34;fields\u0026#34;: [ {\u0026#34;name\u0026#34;: \u0026#34;Date\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;DATE\u0026#34;}, {\u0026#34;name\u0026#34;: \u0026#34;Clicks\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;LONG\u0026#34;}, {\u0026#34;name\u0026#34;: \u0026#34;Cost\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;DECIMAL\u0026#34;}, {\u0026#34;name\u0026#34;: \u0026#34;AdNetworkType\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;TEXT\u0026#34;}, ] } } } db = META.db(\u0026#34;meta_samples\u0026#34;) db.upload_data(upload_file, configuration) SettingsService –†–∞—Å—Å—á–∏—Ç–∞–Ω –Ω–∞ —á—Ç–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ú–µ—Ç—ã\n–≠—Ç–æ —É–¥–æ–±–Ω–æ –∫–æ–≥–¥–∞ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Ö—Ä–∞–Ω–∏—Ç—å —Å—Å—ã–ª–∫–∏/—Ç–æ–∫–µ–Ω—ã –¥–ª—è –≤—à–µ—à–Ω–∏—Ö api, –∫–∞–∫–∏–µ-—Ç–æ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –∏–ª–∏ —á–∞—Å—Ç–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.\n–ü—Ä–∏ —ç—Ç–æ–º –≤—ã —Ö–æ—Ç–∏—Ç–µ –¥–∞—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –≤–æ—Ö–º–æ–∂–Ω–æ—Å—Ç—å —ç—Ç–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å\nsettings = META.SettingsService # –í–µ—Ä–Ω—É—Ç—å —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ rwapp_conf = settings.data_get(\u0026#34;rwapp\u0026#34;) # –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–∞–Ω–Ω—ã—Ö + –¥–∞–Ω–Ω—ã–µ full_rwapp_conf = settings.data_get(\u0026#34;rwapp\u0026#34;, data_only=False) onec_url = settings.config_param(\u0026#34;rwapp\u0026#34;, \u0026#34;app.onec.url\u0026#34;) IssueService –£–ø—Ä–∞–≤–ª—è–π—Ç–µ —Ç–∏–∫–µ—Ç–∞–º–∏ —á–µ—Ä–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã\nfrom metasdk import MetaApp META = MetaApp() IssueService = META.IssueService test_issue_id = 12067 IssueService.add_issue_msg(test_issue_id, \u0026#34;robo test\u0026#34;) IssueService.done_issue(test_issue_id) UserManagementService –£–ø—Ä–∞–≤–ª—è–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏\nfrom metasdk import MetaApp META = MetaApp() UserManagementService = META.UserManagementService resp = UserManagementService.send_recovery_notice(\u0026#34;login\u0026#34;, \u0026#34;meta\u0026#34;) print(u\u0026#34;resp = %s\u0026#34; % str(resp)) # resp = {\u0026#39;error\u0026#39;: None, \u0026#39;error_details\u0026#39;: None, \u0026#39;success_details\u0026#39;: \u0026#39;–í–∞–º –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Å–±—Ä–æ—Å–µ –ø–∞—Ä–æ–ª—è –Ω–∞ email art@realweb.ru. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –∏–∑ –ø–∏—Å—å–º–∞.\u0026#39;} resp = UserManagementService.send_recovery_notice(\u0026#34;unknown_login_123123123\u0026#34;, \u0026#34;meta\u0026#34;) print(u\u0026#34;resp = %s\u0026#34; % str(resp)) # resp = {\u0026#39;error\u0026#39;: \u0026#39;user_not_found\u0026#39;, \u0026#39;error_details\u0026#39;: \u0026#39;–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º –ª–æ–≥–∏–Ω–æ–º –Ω–µ –Ω–∞–π–¥–µ–Ω\u0026#39;, \u0026#39;success_details\u0026#39;: None} StarterService –î–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞–ø–∏ –∑–∞–ø—É—Å–∫–∞—Ç–æ—Ä–∞\nMailService –î–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ—á—Ç–æ–≤—ã–º –∫–ª–∏–µ–Ω—Ç–æ–º\nfrom metasdk import MetaApp META = MetaApp() # –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤—ã–¥—É–º—ã–≤–∞—Ç—å unique_id –¥–ª—è –ö–ê–ñ–î–û–ì–û –ø–∏—Å—å–º–∞, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —Å–ø–∞–º–∞ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –∏–ª–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—É—Å–∫–∞—Ö –≤–∞—à–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤ gen_id = \u0026#34;HJljkasdlkjasd\u0026#34; META.MailService.submit_mail(\u0026#34;meta@realweb.ru\u0026#34;, \u0026#34;art@realweb.ru\u0026#34;, \u0026#34;TTT\u0026#34;, \u0026#34;ttt pong\u0026#34;, unique_id=\u0026#34;my_mail_category__\u0026#34; + gen_id) # –ë–µ–∑ —É–Ω–∏–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–∏—Å—å–º–∞. –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è, —Ç–∞–∫ –∫–∞–∫ –µ—Å–ª–∏ –≤–∞—à –∫–æ–¥ –±—É–¥–µ—Ç –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ –æ—à–∏–±–∫–∞–º –∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –ø–∏—Å—å–º–∞ - —Ç–æ, –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞—Å–ø–∞–º–∏—Ç—å –∞–¥—Ä–µ—Å–∞—Ç–æ–≤ META.MailService.submit_mail(\u0026#34;meta@realweb.ru\u0026#34;, \u0026#34;art@realweb.ru\u0026#34;, \u0026#34;TTT\u0026#34;, \u0026#34;ttt pong\u0026#34;) "
},
{
	"uri": "https://developers.devision.io/metasdk/services/metaql/",
	"title": "METAQL",
	"tags": [],
	"description": "",
	"content": "–û—Å–Ω–æ–≤–∞–Ω –Ω–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–µ Oracle METAQL - –≠—Ç–æ –∑–∞—â–∏—â–µ–Ω–Ω—ã–π SQL –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –¥–∞–Ω–Ω—ã–º –º–µ—Ç—ã.\n–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ù–µ–ª—å–∑—è –Ω–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª—è –∏–ª–∏ —Å–∏–Ω–æ–Ω–∏–º—ã –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏: date –î–æ–±–∞–≤–ª–µ–Ω –æ–ø–µ—Ä–∞—Ç–æ—Ä ILIKE –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä-–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å—Ç—Ä–æ–∫ –ü–æ–∫–∞ –Ω–µ—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π —Ç–∏–ø–æ–≤ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ SELECT –∑–∞–ø—Ä–æ—Å—ã JOIN –ø–æ–∫–∞ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –§—É–Ω–∫—Ü–∏–∏ –†–∞–±–æ—Ç–∞—é—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏:\nMIN, MAX, SUM, AGV COUNT(*), COUNT(DISTINCT –ø–æ–ª–µ) –§—É–Ω–∫—Ü–∏–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π:\nROUND CONCAT NULLIF COALESCE –ü—Ä–∏–º–µ—Ä—ã –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ metaql –ø—Ä–∏–º–µ—Ä–æ–≤\n–°–ø–∏—Å–æ–∫ –æ—Ç—á–µ—Ç–æ–≤\nimport os from metasdk import MetaApp META = MetaApp() log = META.log os.chdir(os.path.dirname(os.path.abspath(__file__))) __DIR__ = os.getcwd() + \u0026#34;/\u0026#34; q = \u0026#34;\u0026#34;\u0026#34; SELECT engine as platform, campaign_remote_id, SUM(impressions) as impressions, SUM(clicks) as clicks, ROUND(SUM(cost), 3) as cost FROM adplatform.campaign_stats_report WHERE stat_date BETWEEN \u0026#39;2017-02-01\u0026#39; AND \u0026#39;2017-03-31\u0026#39; AND engine = \u0026#39;banner\u0026#39; GROUP BY platform, campaign_remote_id ORDER BY platform, campaign_remote_id \u0026#34;\u0026#34;\u0026#34; configuration = { \u0026#34;download\u0026#34;: { # \u0026#34;skipHeaders\u0026#34;: True, \u0026#34;dbQuery\u0026#34;: { \u0026#34;command\u0026#34;: q, } } } metaql = META.MetaqlService resp = metaql.download_data(configuration, output_file=__DIR__ + \u0026#39;assets/stat.tsv\u0026#39;) log.info(\u0026#34;end\u0026#34;) "
},
{
	"uri": "https://developers.devision.io/metasdk/services/exceptions/",
	"title": "–ò—Å–∫–ª—é—á–µ–Ω–∏—è",
	"tags": [],
	"description": "",
	"content": "–û–ø–∏—Å–∞–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –≤ –∫–∞–∫–æ–π –º–æ–º–µ–Ω—Ç –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.\n–û—à–∏–±–∫–∏ –º–æ–≥—É—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ –≤ —Å—Ç–∞—Ç—É—Å –∫–æ–¥–µ –æ—Ç–≤–µ—Ç–∞, –Ω–æ –∏ –≤–Ω—É—Ç—Ä–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —Å–∞–º–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞, –ª–∏–±–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –ø–æ –∫–∞–∫–∏–º –¥—Ä—É–≥–∏–º –ø—Ä–∏–∑–Ω–∞–∫–∞–º\nSDKError –ö–æ—Ä–Ω–µ–≤–∞—è –æ—à–∏–±–∫–∞ –¥–ª—è SDK, —Å–æ–∑–¥–∞–Ω–∞ –¥–ª—è –≤–µ—Ç–≤–ª–µ–Ω–∏—è –¥–µ—Ä–µ–≤–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π. –í –∫–æ–¥–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.\nAuthError –û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –µ—Å–ª–∏ –Ω–∞–º –ø—Ä–∏—à–µ–ª 401 HTTP –æ—Ç–≤–µ—Ç, –∏–ª–∏ –±—ã–ª–∏ –≤—ã—è–≤–ª–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π\nServerError –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –µ—Å–ª–∏ –ø—Ä–∏—à–µ–ª –ª—é–±–æ–π 500 HTTP –æ—Ç–≤–µ—Ç, –∫—Ä–æ–º–µ 502 –∏ 503, –∏–ª–∏ –±—ã–ª–∏ –≤—ã—è–≤–ª–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Ä–≤–µ—Ä–æ–º\nNoContentError –û—à–∏–±–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –µ—Å–ª–∏ –ø—Ä–∏—à–µ–ª 204 HTTP –æ—Ç–≤–µ—Ç, –∏–ª–∏ –±—ã–ª–∏ –≤—ã—è–≤–ª–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ–º –¥–∞–Ω–Ω—ã—Ö –≤ –æ—Ç–≤–µ—Ç–µ\nRequestError –û—à–∏–±–∫–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –µ—Å–ª–∏ –ø—Ä–∏—à–µ–ª –ª—é–±–æ–π 400 HTTP –æ—Ç–≤–µ—Ç, –∏–ª–∏ –±—ã–ª–∏ –≤—ã—è–≤–ª–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Ä–∞–±–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–∞\nRetryHttpRequestError –û—à–∏–±–∫–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –µ—Å–ª–∏ –ø—Ä–∏—à–µ–ª 502, 503, 504 HTTP –æ—Ç–≤–µ—Ç, –∏–ª–∏ –±—ã–ª–∏ –≤—ã—è–≤–ª–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã –∫ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É\nDbQueryError –û—à–∏–±–∫–∞ —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –µ—Å–ª–∏ –±—ã–ª–∏ –≤—ã—è–≤–ª–µ–Ω—ã –ª—é–±—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö\nApiProxyError –û—à–∏–±–∫–∞ —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–∫—Å–∏, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –µ—Å–ª–∏ –±—ã–ª–∏ –≤—ã—è–≤–ª–µ–Ω—ã –ª—é–±—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–∫—Å–∏\nEndOfTriesError –û—à–∏–±–∫–∞ –ª–∏–º–∏—Ç–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –µ—Å–ª–∏ –±—ã–ª –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏—è—Ö –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –ø—Ä–∏–≤–µ–ª–∏ –∫ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–º—É –∏—Å—Ö–æ–¥—É\nUnexpectedError –ù–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –µ—Å–ª–∏ –ø—Ä–∏—à–µ–ª –ª—é–±–æ–π HTTP –æ—Ç–≤–µ—Ç –∫—Ä–æ–º–µ 200 –∏ –æ–ø–∏—Å–∞–Ω–Ω—ã—Ö –≤—ã—à–µ, –∏–ª–∏ –±—ã–ª–∏ –≤—ã—è–≤–ª–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ–ø–∏—Å–∞—Ç—å –¥—Ä—É–≥–∏–º–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏\nLockServiceError –û—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –µ—Å–ª–∏ –º–µ—Å—Ç–æ –≤ –æ—á–µ—Ä–µ–¥–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –Ω–µ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è –∑–∞ –æ—Ç–≤–µ–¥–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è.\nBadParametersError –û—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –ø—Ä–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∑–∞–ø—Ä–æ—Å–æ–≤ API –∏–ª–∏ —Ñ–∏–¥–æ–≤\n"
},
{
	"uri": "https://developers.devision.io/metasdk/services/logging/",
	"title": "–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ",
	"tags": [],
	"description": "",
	"content": "–¢—É—Ç –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –æ–±—ã—á–Ω—ã–π logger –∏ Bulk-logger, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–µ–Ω, —á—Ç–æ–±—ã –Ω–µ –Ω–∞–≥—Ä—É–∂–∞—Ç—å –±–æ–ª—å—à–∏–º –∫–æ–ª-–≤–æ–º –ª–æ–≥–æ–≤, –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –±–æ–ª—å—à–∏—Ö –º–∞—Å—Å–∏–≤–æ–≤ –¥–∞–Ω–Ω—ã—Ö —Å –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ–¥–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞\nLogger log = META.log # –û–±—ä—è–≤–∏—Ç–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç, —á—Ç–æ–±—ã –Ω–µ –ø–∏—Å–∞—Ç—å —ç—Ç–æ –∫–∞–∂–¥—ã–π —Ä–∞–∑ log.set_entity(\u0026#39;campaign_id\u0026#39;, -1) # –ü–æ —Å—É—Ç–∏ —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ log.set_entity(\u0026#39;test\u0026#39;, True) log.warning(\u0026#39;Do warning log\u0026#39;, {\u0026#34;count\u0026#34;: 1, \u0026#34;mycontextParam\u0026#34;: [1, 3, 4]}) log.info(\u0026#39;Info log\u0026#39;) logging.info(\u0026#39;Default logging\u0026#39;) # —É–¥–∞–ª–∏—Ç–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç, –∫–æ–≥–¥–∞ –æ–Ω –≤–∞–º –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω log.remove_entity(\u0026#39;test\u0026#39;) log.info(\u0026#39;Info log2\u0026#39;) –≠—Ç–æ –≤—ã–≤–µ–¥–µ—Ç –≤–∞–º —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ —Ç–∞–∫–æ–≥–æ:\n# 00:03:11:WARNING: Do warning log {\u0026#39;count\u0026#39;: 1, \u0026#39;mycontextParam\u0026#39;: [1, 3, 4], \u0026#39;test\u0026#39;: True, \u0026#39;campaign_id\u0026#39;: -1} # 00:03:11:INFO: Info log {\u0026#39;test\u0026#39;: True, \u0026#39;campaign_id\u0026#39;: -1} # 00:03:11:INFO: Default logging {\u0026#39;test\u0026#39;: True, \u0026#39;campaign_id\u0026#39;: -1} # 00:03:11:INFO: Info log2 {\u0026#39;campaign_id\u0026#39;: -1} Bulk Logger –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—á–µ–∫ –∏–∑ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º–æ–≥–æ —Å–ø–∏—Å–∫–∞.\n–î–µ–ª–∞–µ—Ç –∑–∞–ø–∏—Å—å –≤ –ª–æ–≥ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø—Ä–æ—à–ª–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –∫–æ–ª-–≤–æ –≤—Ä–µ–º–µ–Ω–∏\ntotal = 125 # –ü–æ–ª—É—á–∞–µ—Ç–µ —ç–∫–∑–µ–º–ø–ª—è—Ä bulk-logger —á–µ—Ä–µ–∑ –æ–±—ä–µ–∫—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è # –°–ø–∏—Å–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤–∞–º –ø–æ–¥—Å–∫–∞–∂–µ—Ç IDE bulk_log = META.bulk_log(u\u0026#39;–ú–æ—è –ø–∞—á–∫–∞\u0026#39;, total, 1) for idx in xrange(total): # –ü–µ—Ä–≤—ã–π –≤—ã–∑–æ–≤ –≤—Å–µ–≥–¥–∞ try_log_part, —á—Ç–æ–±—ã –æ–∑–Ω–∞–º–µ–Ω–æ–≤–∞—Ç—å –Ω–∞—á–∞–ª–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ü–∏–∫–ª–∞ bulk_log.try_log_part() # –ù–∞ –ß–ê–°–¢–´–•, –Ω–æ –≤–æ–∑–º–æ–∂–Ω–æ –ë–´–°–¢–†–´–• –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä with_start_message=False # –≠—Ç–æ –∏—Å–∫–ª—é—á–∏—Ç –∑–∞–ø–∏—Å—å –Ω–∞–¥–ø–∏—Å–∏ –æ –Ω–∞—á–∞–ª–µ —Ä–∞–±–æ—Ç—ã –Ω–∞–¥ –ø–∞—á–∫–æ–π –∏, –µ—Å–ª–∏ –ø–∞—á–∫–∞ —Å–¥–µ–ª–∞–µ—Ç—Å—è –¥–æ # –º–∏–Ω. –≤—Ä–µ–º—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è, —Ç–æ –∑–∞–ø–∏—Å–∏ –Ω–µ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –≤–æ–æ–±—â–µ # bulk_log.try_log_part(with_start_message=False) # –¥–∞–ª–µ–µ –≤–∞—à–∞ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ time.sleep(1) # finish –≤—ã–∑—ã–≤–∞—Ç—å –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –Ω–æ —á–∞—Å—Ç–æ –Ω—É–∂–Ω–æ, # —á—Ç–æ–±—ã —Ç–æ—á–Ω–æ —Å–∫–∞–∑–∞—Ç—å, —á—Ç–æ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ bulk_log.finish() –≠—Ç–æ –≤—ã–≤–µ–¥–µ—Ç –≤–∞–º —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ —Ç–∞–∫–æ–≥–æ:\n# 23:55:31:INFO: –ù–∞—á–∞–ª–∏ —Ü–∏–∫–ª: –ú–æ—è –ø–∞—á–∫–∞ {} # 23:56:31:INFO: –ú–æ—è –ø–∞—á–∫–∞ {\u0026#39;counter\u0026#39;: 61, \u0026#39;percentDone\u0026#39;: 48, \u0026#39;maxCount\u0026#39;: 125} # 23:57:31:INFO: –ú–æ—è –ø–∞—á–∫–∞ {\u0026#39;counter\u0026#39;: 121, \u0026#39;percentDone\u0026#39;: 96, \u0026#39;maxCount\u0026#39;: 125} # 23:57:36:INFO: –ó–∞–∫–æ–Ω—á–∏–ª–∏ —Ü–∏–∫–ª: –ú–æ—è –ø–∞—á–∫–∞ {} Bulk Logger Thread Pool –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—á–µ–∫ –∏–∑ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º–æ–≥–æ —Å–ø–∏—Å–∫–∞. –î–µ–ª–∞–µ—Ç –∑–∞–ø–∏—Å—å –≤ –ª–æ–≥ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø—Ä–æ—à–ª–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –∫–æ–ª-–≤–æ –≤—Ä–µ–º–µ–Ω–∏\nimport time from functools import partial from multiprocessing.pool import ThreadPool from metasdk import MetaApp META = MetaApp() def my_thread_fn(bulk_log, job_item): bulk_log.try_log_part() # –ë–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫–∞ # —Ä–∞–±–æ—Ç–∞ —Å job_item time.sleep(1) def my_main_fn(): total = 125 * 2 thread_cnt = 2 bulk_log = META.bulk_log(u\u0026#39;–ú–æ—è –ø–∞—á–∫–∞\u0026#39;, total, 1) bulk_log.try_log_part() all_data = range(1, total) pool = ThreadPool(thread_cnt) # –ß—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–º —Ä–µ–∂–∏–º–µ —Å bulk_log –≤—ã # –¥–æ–ª–∂–Ω—ã –ø–µ—Ä–µ–¥–∞—Ç—å –µ–≥–æ –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç –≤—ã–∑—ã–≤–∞–µ–º–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º func = partial(my_thread_fn, bulk_log) results = pool.map(func, all_data) bulk_log.finish() pool.close() pool.join() #print(results) my_main_fn() –≠—Ç–æ –≤—ã–≤–µ–¥–µ—Ç –≤–∞–º —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ —Ç–∞–∫–æ–≥–æ:\n# 16:25:08:INFO: –ù–∞—á–∞–ª–∏ —Ü–∏–∫–ª: –ú–æ—è –ø–∞—á–∫–∞ {} # 16:26:08:INFO: –ú–æ—è –ø–∞—á–∫–∞ {\u0026#39;counter\u0026#39;: 122, \u0026#39;percentDone\u0026#39;: 48, \u0026#39;maxCount\u0026#39;: 250} # 16:27:09:INFO: –ú–æ—è –ø–∞—á–∫–∞ {\u0026#39;counter\u0026#39;: 242, \u0026#39;percentDone\u0026#39;: 96, \u0026#39;maxCount\u0026#39;: 250} # 16:27:17:INFO: –ó–∞–∫–æ–Ω—á–∏–ª–∏ —Ü–∏–∫–ª: –ú–æ—è –ø–∞—á–∫–∞ {} "
},
{
	"uri": "https://developers.devision.io/metasdk/",
	"title": "META SDK",
	"tags": [],
	"description": "META SDK - –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º –ú–µ—Ç—ã",
	"content": "META SDK –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫ —Å–µ—Ä–≤–∏—Å–∞–º –ú–µ—Ç—ã\n–£—Å—Ç–∞–Ω–æ–≤–∫–∞ pip install metasdk --upgrade --no-cache –ü–µ—Ä–≤—ã–π –≤—ã–∑–æ–≤ from metasdk import MetaApp META = MetaApp() log = META.log log.info(\u0026#34;Hello, from Meta App Script!\u0026#34;, {\u0026#34;param\u0026#34;: \u0026#34;üôÇ\u0026#34;}) "
},
{
	"uri": "https://developers.devision.io/metasdk/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://developers.devision.io/metasdk/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
}]